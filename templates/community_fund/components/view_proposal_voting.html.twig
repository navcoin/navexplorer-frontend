<div class="margin-bottom row">
    <div class="col-md-6 col-sm-12 margin-bottom">
        <h3>Voting cycle {{ votes.latestCycle.cycle }}</h3>
        {{ proposalVoteProgress(proposal, blockCycle, votes.latestCycle) }}
        <p class="text-muted">Accept {{ votes.latestCycle.yes }} / Reject {{ votes.latestCycle.no }} / Abstain {{ votes.latestCycle.abstain }}</p>
    </div>

    <div class="col-md-6 col-sm-12">
        <h3>Voting Trend</h3>
        <canvas id="trendChart" class="margin-top"></canvas>
    </div>
</div>

<div class="row" id="votes">
    <div class="col-md-6 col-sm-12 margin-bottom">
        <h4>Voters For</h4>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Address</th>
                <th>Votes</th>
            </tr>
            </thead>
            <tbody>
            {{ votes.latestCycle.sortAddressesYesDesc() }}
            {% for vote in votes.latestCycle.addresses if vote.yes != 0 %}
                <tr>
                    <td>
                        <a href="{{ path('app_address_index', {'hash': vote.address }) }}">{{ vote.address }}</a>
                    </td>
                    <td>{{ vote.yes }}</td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="2">Nobody has voted for this proposal</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-md-6 col-sm-12">
        <h4>Voters Against</h4>
        <table class="table table-striped">
            <thead>
            <tr>
                <th>Address</th>
                <th>Votes</th>
            </tr>
            </thead>
            <tbody>
            {{ votes.latestCycle.sortAddressesNoDesc() }}
            {% for vote in votes.latestCycle.addresses if vote.no != 0 %}
                <tr>
                    <td>
                        <a href="{{ path('app_address_index', {'hash': vote.address }) }}">{{ vote.address }}</a>
                    </td>
                    <td>{{ vote.no }}</td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="2">Nobody has voted against this proposal</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>